{% extends 'base.html' %}

{% block title %}{{ post.name }}{% endblock %}

{% block content %}



<div class="close-button" style=" position: fixed; margin: 20px; text-align: center; z-index: 9999;

">
  <svg
      onclick="history.back();"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="2"
      stroke="currentColor"
      style="padding: 10px; border-radius: 100px; background-color: rgb(47, 47, 47); width: 40px; height: 40px; cursor: pointer; color: #ffffff;"
  >
      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
  </svg>
</div>

<div
    style="display: none; align-items: center; justify-content: center; position: fixed; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 9999;"
    class="modal"
    id="modal"
>
    <span style="position: absolute; top: 10px; right: 20px; cursor: pointer; font-size: 30px; color: white;" class="close2" id="close">&times;</span>
    <img
        style="width: 100%; height: 100%; object-fit: contain; margin: auto; cursor: pointer; padding: 0px 40px;"
        src="/media/{{ post.picture }}"
        alt="Modal Image"
        id="modalImage"
    />
</div>

<div class="mobile" style="display: flex; background-color: white; min-height: 100vh; height: 100%;">
    <div id="openModalTrigger" style="overflow: hidden; position: relative; flex: 1; display: flex; align-items: center; justify-content: center; overflow: hidden;background-color: rgba(0, 0, 0, 0.8);">
        <div style="
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.844);
          z-index: 1;
          display: flex;
          align-items: center;
          justify-content: center;
         
          ">

          <img
          alt="Click to open modal"
          src="/media/{{ post.picture }}"
          
          style=" width: 100%; 
          margin: auto; 
          object-fit: cover; 
          cursor: pointer;
         
                 "
        />  
      </div>
        
        <img
            alt="Click to open modal"
            src="/media/{{ post.picture }}"
        
            style=" width: 100%; object-fit: cover;
            height: 100%;
            margin: auto; object-fit: cover; cursor: pointer;
            position: absolute;
            z-index: 0;
            filter: blur(5px);
            "
            
        />
    </div>

    <div style="flex: 1;">
        <div style="padding: 20px;" class="label">
            <h1>
                {% if post.price == 0 %}
                    –î–æ–≥–æ–≤–æ—Ä
                {% else %}
                    {{ post.price|floatformat:0 }} —Å–æ–º
                {% endif %}
            </h1>
        </div>
        <br>
        <div style="display: flex;flex-wrap: wrap; padding:0px 20px;">
            –¢–µ–≥–∏: <br />
            {% for tag in post.tags.all %}
                <h3 > 
                    #{{ tag.name }}
                </h3>
            {% endfor %}
        </div>
        <div style="margin-top: 10px;  padding:0px 20px;">
            <pre style="font-size: 18px;" class="text">{{ post.description }}</pre>
        </div>

        <footer style="padding:20px;">
            <div>
                <div class="label">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ:</div>
                {{ post.time_since_posted }}
                <br /><br />
                {% if not post.author.is_staff %}
                    <div class="label">–ö–æ–Ω—Ç–∞–∫—Ç—ã:</div>
                    <h3>
                        <b>+
                            {% if post.state == "active" %}
                                {% with post.author.phone_number as number %}
                                    {{ number|slice:":3" }} {{ number|slice:"3:6" }} {{ number|slice:"6:" }}
                                {% endwith %}
                            {% else %}
                                üèö –û–±—ä—è–≤–ª–µ–Ω–∏–µ —É–∂–µ –≤ –∞—Ä—Ö–∏–≤–µ...
                            {% endif %}
                        </b>
                    </h3>
                {% endif %}
            </div>
        </footer>
        <div style="display: flex; gap: 15px;margin: auto; align-items: center; justify-content: center; margin-top: 40px;">
          <a target="_blank" href="https://www.t.me/renting_kg">
              <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="60" height="60" rx="30" fill="url(#paint0_linear_502_865)"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M13.5802 29.6834C22.3258 25.8731 28.1576 23.3611 31.0755 22.1474C39.4068 18.6821 41.138 18.0801 42.2664 18.0603C42.5145 18.0559 43.0694 18.1174 43.4289 18.4091C43.7324 18.6553 43.8159 18.988 43.8558 19.2215C43.8958 19.455 43.9455 19.9869 43.906 20.4025C43.4545 25.1462 41.501 36.6579 40.5071 41.9709C40.0866 44.2191 39.2585 44.9729 38.4569 45.0466C36.7147 45.207 35.3918 43.8953 33.7045 42.7892C31.0641 41.0584 29.5724 39.981 27.0095 38.292C24.0475 36.3402 25.9676 35.2674 27.6556 33.5142C28.0974 33.0553 35.7734 26.0734 35.9219 25.4401C35.9405 25.3609 35.9578 25.0656 35.7824 24.9097C35.6069 24.7538 35.348 24.8071 35.1612 24.8495C34.8964 24.9096 30.6783 27.6976 22.507 33.2134C21.3098 34.0356 20.2253 34.4361 19.2536 34.4151C18.1825 34.392 16.122 33.8095 14.5903 33.3116C12.7115 32.7009 11.2183 32.378 11.3483 31.3408C11.4161 30.8006 12.16 30.2481 13.5802 29.6834Z" fill="white"/>
              <defs>
              <linearGradient id="paint0_linear_502_865" x1="30" y1="0" x2="30" y2="59.555" gradientUnits="userSpaceOnUse">
              <stop stop-color="#2AABEE"/>
              <stop offset="1" stop-color="#229ED9"/>
              </linearGradient>
              </defs>
              </svg>
          </a> 
          <a target="_blank" href="https://www.instagram.com/nobox.kg">
  
              <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect width="60" height="60" rx="30" fill="black"/>
                  <path d="M30.0048 15.2446C34.8145 15.2446 35.3791 15.266 37.2801 15.3518C39.0382 15.4304 39.9887 15.7234 40.6247 15.9735C41.4681 16.3023 42.0684 16.6882 42.6973 17.3171C43.3262 17.946 43.7192 18.5463 44.0408 19.3896C44.2838 20.0257 44.584 20.9762 44.6626 22.7342C44.7484 24.6353 44.7698 25.1998 44.7698 30.0095C44.7698 34.8192 44.7484 35.3838 44.6626 37.2848C44.584 39.0429 44.291 39.9934 44.0408 40.6294C43.7121 41.4727 43.3262 42.0731 42.6973 42.702C42.0684 43.3309 41.4681 43.7239 40.6247 44.0455C39.9887 44.2885 39.0382 44.5887 37.2801 44.6673C35.3791 44.753 34.8145 44.7745 30.0048 44.7745C25.1951 44.7745 24.6306 44.753 22.7296 44.6673C20.9715 44.5887 20.021 44.2957 19.3849 44.0455C18.5416 43.7168 17.9413 43.3309 17.3124 42.702C16.6835 42.0731 16.2904 41.4727 15.9688 40.6294C15.7258 39.9934 15.4257 39.0429 15.3471 37.2848C15.2613 35.3838 15.2399 34.8192 15.2399 30.0095C15.2399 25.1998 15.2613 24.6353 15.3471 22.7342C15.4257 20.9762 15.7187 20.0257 15.9688 19.3896C16.2976 18.5463 16.6835 17.946 17.3124 17.3171C17.9413 16.6882 18.5416 16.2951 19.3849 15.9735C20.021 15.7305 20.9715 15.4304 22.7296 15.3518C24.6306 15.2589 25.2023 15.2446 30.0048 15.2446ZM30.0048 12C25.1165 12 24.5019 12.0214 22.5795 12.1072C20.6642 12.193 19.3563 12.5003 18.2129 12.9434C17.0265 13.4007 16.026 14.0225 15.0255 15.023C14.0249 16.0236 13.4103 17.0312 12.9458 18.2104C12.5027 19.3539 12.1954 20.6617 12.1096 22.5842C12.0239 24.4995 12.0024 25.1141 12.0024 30.0024C12.0024 34.8907 12.0239 35.5053 12.1096 37.4277C12.1954 39.343 12.5027 40.6509 12.9458 41.8015C13.4032 42.9878 14.0249 43.9884 15.0255 44.9889C16.026 45.9894 17.0337 46.604 18.2129 47.0686C19.3563 47.5116 20.6642 47.8189 22.5866 47.9047C24.5091 47.9905 25.1165 48.0119 30.012 48.0119C34.9074 48.0119 35.5149 47.9905 37.4373 47.9047C39.3526 47.8189 40.6605 47.5116 41.8111 47.0686C42.9974 46.6112 43.998 45.9894 44.9985 44.9889C45.999 43.9884 46.6136 42.9807 47.0782 41.8015C47.5213 40.658 47.8286 39.3502 47.9143 37.4277C48.0001 35.5053 48.0215 34.8978 48.0215 30.0024C48.0215 25.1069 48.0001 24.4995 47.9143 22.577C47.8286 20.6617 47.5213 19.3539 47.0782 18.2033C46.6208 17.0169 45.999 16.0164 44.9985 15.0159C43.998 14.0154 42.9903 13.4007 41.8111 12.9362C40.6676 12.4931 39.3598 12.1858 37.4373 12.1001C35.5078 12.0214 34.8931 12 30.0048 12Z" fill="white"/>
                  <path d="M30.0047 20.7618C24.902 20.7618 20.757 24.8997 20.757 30.0095C20.757 35.1194 24.8949 39.2573 30.0047 39.2573C35.1146 39.2573 39.2525 35.1194 39.2525 30.0095C39.2525 24.8997 35.1146 20.7618 30.0047 20.7618ZM30.0047 36.0055C26.6887 36.0055 24.0015 33.3184 24.0015 30.0024C24.0015 26.6863 26.6887 23.9992 30.0047 23.9992C33.3207 23.9992 36.0079 26.6863 36.0079 30.0024C36.0079 33.3184 33.3207 36.0055 30.0047 36.0055Z" fill="white"/>
                  <path d="M39.617 22.5484C40.809 22.5484 41.7753 21.5821 41.7753 20.3901C41.7753 19.1982 40.809 18.2319 39.617 18.2319C38.425 18.2319 37.4587 19.1982 37.4587 20.3901C37.4587 21.5821 38.425 22.5484 39.617 22.5484Z" fill="white"/>
                  </svg>
                  
          </a> 
          <a target="_blank" href="https://www.t.me/lnternetwarrior">
  
              <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect width="60" height="60" rx="30" fill="#5865F2"/>
                  <path d="M44.5548 16.2355C41.8778 14.9694 39.0072 14.0365 36.0058 13.5022C35.9512 13.4919 35.8966 13.5177 35.8684 13.5692C35.4992 14.2461 35.0903 15.1291 34.8039 15.8232C31.5757 15.325 28.3641 15.325 25.2021 15.8232C24.9156 15.1137 24.4918 14.2461 24.121 13.5692C24.0928 13.5194 24.0382 13.4936 23.9836 13.5022C20.9838 14.0348 18.1132 14.9677 15.4346 16.2355C15.4114 16.2458 15.3916 16.263 15.3784 16.2853C9.93344 24.6707 8.44184 32.85 9.17357 40.9278C9.17688 40.9673 9.1984 41.0051 9.2282 41.0292C12.8206 43.7487 16.3005 45.3997 19.7157 46.494C19.7704 46.5112 19.8283 46.4906 19.8631 46.4442C20.671 45.3069 21.3911 44.1078 22.0086 42.8467C22.045 42.7729 22.0102 42.6853 21.9358 42.6561C20.7935 42.2094 19.7058 41.6648 18.6595 41.0464C18.5768 40.9965 18.5701 40.8745 18.6463 40.8161C18.8665 40.646 19.0867 40.4691 19.2969 40.2904C19.335 40.2578 19.388 40.2509 19.4327 40.2715C26.3062 43.5065 33.7477 43.5065 40.5402 40.2715C40.5849 40.2492 40.6379 40.2561 40.6776 40.2887C40.8879 40.4674 41.1081 40.646 41.3299 40.8161C41.406 40.8745 41.401 40.9965 41.3183 41.0464C40.272 41.6768 39.1843 42.2094 38.0404 42.6544C37.9659 42.6836 37.9328 42.7729 37.9692 42.8467C38.5999 44.106 39.3201 45.3052 40.1131 46.4425C40.1462 46.4906 40.2058 46.5112 40.2604 46.494C43.6922 45.3997 47.1721 43.7487 50.7645 41.0292C50.796 41.0051 50.8158 40.969 50.8192 40.9295C51.6949 31.5906 49.3524 23.4785 44.6094 16.287C44.5978 16.263 44.578 16.2458 44.5548 16.2355ZM23.035 36.0093C20.9656 36.0093 19.2605 34.0508 19.2605 31.6456C19.2605 29.2405 20.9326 27.282 23.035 27.282C25.154 27.282 26.8427 29.2577 26.8095 31.6456C26.8095 34.0508 25.1375 36.0093 23.035 36.0093ZM36.9908 36.0093C34.9215 36.0093 33.2163 34.0508 33.2163 31.6456C33.2163 29.2405 34.8883 27.282 36.9908 27.282C39.1099 27.282 40.7984 29.2577 40.7654 31.6456C40.7654 34.0508 39.1099 36.0093 36.9908 36.0093Z" fill="white"/>
                  </svg>
          </a>
       </div>
    </div>
</div>
<style>
  @media (max-width: 768px) {
    .mobile {
      flex-direction: column;
    }

    .mobile > div {
      width: 100%;
      height: 100%;
    }
    .close-button{
    right: 8px;
    bottom: 70px;
    transform: scale(0.8)
  }
  }



/* *{
    outline: 1px greenyellow solid;
} */
pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-wrap: break-word;
}



</style>
<script>
    window.onload = function () {
        const openTrigger = document.getElementById("openModalTrigger");
        const modal = document.getElementById("modal");
        const closeBtn = document.getElementById("close");
        const modalImage = document.getElementById("modalImage");

        openTrigger.addEventListener("click", function () {
            modal.style.display = "flex";
        });

        function closeModal() {
            modal.style.display = "none";
        }

        modal.addEventListener("click", function () {
            closeModal();
        });

        closeBtn.addEventListener("click", closeModal);

        modalImage.addEventListener("click", closeModal);
    };
    document.addEventListener("DOMContentLoaded", function() {
        var footers = document.getElementsByClassName('footer');
        for (var i = 0; i < footers.length; i++) {
            footers[i].style.display = 'none';
        }
    });

</script>
{% endblock %}
